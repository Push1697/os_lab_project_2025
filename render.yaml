services:
  # Backend API Service Only (Frontend will be deployed on Firebase)
  - type: web
    name: id-verification-backend
    runtime: node
    plan: free
    rootDir: ./backend
    buildCommand: npm install
    startCommand: npm start
    healthCheckPath: /health
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5000
    # Add your environment variables here:
    # - key: MONGO_URI
    #   value: your-mongodb-connection-string
    # - key: JWT_SECRET
    #   value: your-jwt-secret
    # - key: CORS_ORIGINS
    #   value: https://your-project-id.web.app,https://your-project-id.firebaseapp.com
    # - key: AWS_ACCESS_KEY_ID
    #   value: your-aws-access-key
    # - key: AWS_SECRET_ACCESS_KEY
    #   value: your-aws-secret-key
    # - key: S3_BUCKET
    #   value: your-s3-bucket-name
    # - key: AWS_REGION
    #   value: us-east-1

databases:
  # If you want to use Render's PostgreSQL (optional)
  # - name: id-verification-db
  #   databaseName: id_verification
  #   user: admin